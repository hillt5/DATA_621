---
title: "Data 621 - HW5"
author: "Devin Teran, Atina Karim, Tom Hill, Amit Kapoor"
date: "5/23/2021"
output:
  html_document:
    highlight: pygments
    number_sections: no
    theme: flatly
    toc: yes
    toc_float: yes
  pdf_document:
    toc: TRUE
    toc_depth: 2 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=FALSE, error=FALSE, warning=FALSE, message=FALSE, fig.align = "center")
```


```{r loadData, include=FALSE}
# Libraries


library(DataExplorer)
library(visdat)
library(dplyr)
library(tidyr)
library(MASS)
library(psych)
library(AER)
library(mlr)
library(mice)
library(imputeTS)

set.seed(621)
```


```{r data}

fires <- read.csv('https://raw.githubusercontent.com/hillt5/DATA_621/master/Final%20Project/uci-forest-fires/forestfires.csv') 

```



# Overview

For the final assignment, the team will be looking at a dataset of forest fires identified in Montesinho Natural Park, located in the mountainous northeast of Portugal. The original paper was published by a nearby university with the intention of offering low-cost prediction based on available meteorological measurements. Their model used information collected in realtime to identify fires without more specialized equipment - sattelite imaging and smoke scanners. 


The objective is to build a model that predicts the burned area of the forest given the explanatory variables. Additionally, a temporal model could be developed to understand which day and weather patterns offer the highest risk conditions.



# Data Exploration

Below is the description of the variables of interest in the data set.

|VARIABLE NAME|DEFINITION|
|--|----|---|
|X|x-axis spatial coordinate within the Montesinho park map: 1 to 9|
|Y|y-axis spatial coordinate within the Montesinho park map: 2 to 9|
|month| month of the year: "jan" to "dec" |
|day|day of the week: "mon" to "sun"|
|FFMC|FFMC* index from the FWI system: 18.7 to 96.20|
|DMC|DMC* index from the FWI system: 1.1 to 291.3 |
|DC| DC* index from the FWI system: 7.9 to 860.6 |
|ISI|ISI* index from the FWI system: 0.0 to 56.10|
|temp|temperature in Celsius degrees: 2.2 to 33.30|
|RH|relative humidity in %: 15.0 to 100|
|wind|wind speed in km/h: 0.40 to 9.40 |
|rain|outside rain in mm/m2 : 0.0 to 6.4 |
|area|the burned area of the forest (in ha): 0.00 to 1090.84 |  






Source : Cortez, Paulo & Morais, A.. (2007). A Data Mining Approach to Predict Forest Fires using Meteorological Data. 



## Statistics

All of the data are numeric and here is the statistics summary of all the predictors.

```{r, describe}
fires %>%  describe()
```

## Numeric Variables

Seeing the distribution plots below of all the predictor variables, it is evident that variables Alcohol, Chlorides, CitricAcid, Density, FixedAcidity, FreeSulphurDioxide, pH, ResidualSugar, Sulphates, TotalSulphurDioxide and VolatileAcidity appear to be symmetrical but non Gaussian since there is a strong spike near the median and not smooth near the tails on either side. 

LabelAppeal distribution appears mostly normal while for AcidIndex and STARS seems to follow Poisson distribution.

```{r, histograms}
plot_histogram(wine_train[-1], geom_histogram_args = list("fill" = "tomato4"))
```


```{r, distinct-values}
tibble(wine_train %>% summarize_all(n_distinct))
```


All variables in this dataset are initially interpretable as numeric data. There are several variables, including AcidIndex, LabelAppeal, and STARS that have few distinct values and may be treated as factors in the future. The target variable, number of cases, also only spans values 0 - 8.  


## Correlations

The `corrplot` below shows the correlation between predictor variables by ignoring the missing entries.

```{r, corrplot}
forcorr <- wine_train[complete.cases(wine_train),-1]
corrplot::corrplot(cor(forcorr), type = 'lower')
```

From the above `corrplot`, it is apparent that 

* `AcidIndex` and `FixedAcidity` are positively correlated. 
* `STARS` and `LabelAppeal` are positively correlated. 
* `STARS` and `AcidIndex` are negatively correlated.








## Missing Values


```{r, missing-values}


colSums(is.na(wine_train))


vis_dat(wine_train  %>% dplyr:: select(pH, ResidualSugar, Chlorides, Alcohol, FreeSulfurDioxide , TotalSulfurDioxide, Sulphates, STARS))


```


The remaining missing values comprise less than ten percent of observations separately. Taken together, just over 50% of observations have complete data available.  

# Data Preparation

## Missing Values
# Build Models


# Select Models

# Code Appendix

```{r ref.label=knitr::all_labels(), echo=TRUE, eval=FALSE}
```

















